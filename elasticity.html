<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>íƒ„ë ¥ì„± - Econ Experiment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <style>
        /* 1. ìƒë‹¨ë°” ìƒ‰ìƒ ê°•ì œ ì§€ì • (#2c3e50: ì§„í•œ ë„¤ì´ë¹„) */
        :root { --main-color: #2c3e50; --accent-color: #3498db; }
        
        .navbar-custom {
            background-color: var(--main-color) !important;
        }
        .navbar-custom .navbar-brand, .navbar-custom .nav-link {
            color: white !important;
        }
        
        /* --- ì»¤ìŠ¤í…€ ë ˆì¸ì§€ ìŠ¬ë¼ì´ë” ìŠ¤íƒ€ì¼ (ì—¬ê¸°ì„œë¶€í„° ì¶”ê°€ë¨) --- */
        /* ìŠ¬ë¼ì´ë” ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” ë° ë†’ì´ í™•ë³´ */
        #elasticityRange::-webkit-slider-thumb {
            -webkit-appearance: none; /* í¬ë¡¬/ì‚¬íŒŒë¦¬ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì œê±° */
            width: 100%;
            height: 40px; /* í„°ì¹˜/í´ë¦­ ì˜ì—­ í™•ë³´ */
            background: transparent;
            cursor: pointer;
        }
        
        /* íŠ¸ë™(ë§‰ëŒ€) ìŠ¤íƒ€ì¼ - ì›¹í‚·(í¬ë¡¬/ì‚¬íŒŒë¦¬/ì—£ì§€) */
        #elasticityRange::-webkit-slider-runnable-track {
            width: 100%;
            height: 14px; /* íŠ¸ë™ì„ ë‘ê»ê²Œ */
            background: #e9ecef; /* ë°ì€ íšŒìƒ‰ ë°°ê²½ */
            border-radius: 8px;
            border: 1px solid #ced4da;
        }
        
        /* ì†ì¡ì´(ë²„íŠ¼) ìŠ¤íƒ€ì¼ - ì›¹í‚· */
        #elasticityRange::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 32px; /* ì†ì¡ì´ í¬ê¸° í‚¤ì›€ */
            width: 32px;
            border-radius: 50%; /* ì›í˜• */
            background: var(--accent-color); /* ê°•ì¡°ìƒ‰(íŒŒë‘) ì ìš© */
            border: 4px solid white; /* í°ìƒ‰ í…Œë‘ë¦¬ë¡œ ë‹ë³´ì´ê²Œ */
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.5); /* ê·¸ë¦¼ì ì¶”ê°€ */
            margin-top: -10px; /* íŠ¸ë™ ì¤‘ì•™ì— ë§ì¶”ê¸° ìœ„í•œ ìœ„ì¹˜ ì¡°ì • (14/2 - 32/2) */
            transition: all 0.2s ease-in-out;
        }
        
        /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ì†ì¡ì´ íš¨ê³¼ */
        #elasticityRange:hover::-webkit-slider-thumb {
             transform: scale(1.1); /* ì‚´ì§ ì»¤ì§ */
             background: #2980b9; /* ì¢€ ë” ì§„í•œ íŒŒë‘ */
        }

        /* íŒŒì´ì–´í­ìŠ¤ í˜¸í™˜ì„±ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ (ì›¹í‚·ê³¼ ê±°ì˜ ë™ì¼) */
        #elasticityRange::-moz-range-track {
            width: 100%;
            height: 14px;
            background: #e9ecef;
            border-radius: 8px;
            border: 1px solid #ced4da;
        }
        #elasticityRange::-moz-range-thumb {
            height: 32px;
            width: 32px;
            border-radius: 50%;
            background: var(--accent-color);
            border: 4px solid white;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.5);
            transition: all 0.2s ease-in-out;
        }
        #elasticityRange:hover::-moz-range-thumb {
             transform: scale(1.1);
             background: #2980b9;
        }
        /* --- ì»¤ìŠ¤í…€ ìŠ¬ë¼ì´ë” ìŠ¤íƒ€ì¼ ë --- */


        /* 2. ê¸°íƒ€ ìŠ¤íƒ€ì¼ */
        .chart-container { position: relative; height: 400px; width: 100%; }
        .concept-box { background-color: #ffffff; border-left: 5px solid var(--accent-color); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .custom-card { border: none; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border-radius: 12px; background: white; }
    </style>
</head>
<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-custom mb-4">
        <div class="container">
             <a class="navbar-brand fw-bold" href="index.html">Econ Experiment</a>
             <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                 <span class="navbar-toggler-icon"></span>
             </button>
             <div class="collapse navbar-collapse" id="navbarNav">
                 <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="about.html">ì†Œê°œ</a></li>
                    <li class="nav-item"><a class="nav-link" href="demand_supply.html">ìˆ˜ìš”Â·ê³µê¸‰</a></li>
                    <li class="nav-item"><a class="nav-link active fw-bold" href="elasticity.html">íƒ„ë ¥ì„±</a></li>
                    <li class="nav-item"><a class="nav-link" href="real_data.html">ì‹¤ì œ ë°ì´í„°</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <h2 class="mb-4 pb-2 border-bottom" style="color: var(--main-color);">ê°€ê²© íƒ„ë ¥ì„± (Price Elasticity)</h2>
        
        <div class="row mb-4">
            <div class="col-12">
                <div class="concept-box">
                    <h4 class="h5 fw-bold text-primary mb-3">ğŸ’¡ ìˆ˜ìš”ì˜ ê°€ê²© íƒ„ë ¥ì„±ì´ë€?</h4>
                    <p class="mb-2">
                        ìƒí’ˆì˜ <strong>ê°€ê²©ì´ ë³€í•  ë•Œ</strong>, ì†Œë¹„ìë“¤ì´ <strong>êµ¬ë§¤ëŸ‰(ìˆ˜ìš”ëŸ‰)ì„ ì–¼ë§ˆë‚˜ ë¯¼ê°í•˜ê²Œ ë°”ê¾¸ëŠ”ì§€</strong>ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œì…ë‹ˆë‹¤.
                    </p>
                    <ul class="text-muted small mb-0">
                        <li><strong>íƒ„ë ¥ì  (Elastic, > 1):</strong> ê°€ê²©ì´ ì¡°ê¸ˆë§Œ ì˜¬ë¼ë„ ì‚¬ëŒë“¤ì´ êµ¬ë§¤ë¥¼ í™• ì¤„ì…ë‹ˆë‹¤. (ì˜ˆ: ëª…í’ˆ, ì‚¬ì¹˜ì¬)</li>
                        <li><strong>ë¹„íƒ„ë ¥ì  (Inelastic, < 1):</strong> ê°€ê²©ì´ ì˜¬ë¼ë„ ì–´ì©” ìˆ˜ ì—†ì´ êµ¬ë§¤í•©ë‹ˆë‹¤. (ì˜ˆ: ìŒ€, íœ´ì§€, ë‹´ë°° ê°™ì€ í•„ìˆ˜ì¬)</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="custom-card p-4 h-100">
                    <h4 class="h5 fw-bold mb-3">íƒ„ë ¥ì„± ì¡°ì ˆ</h4>
                    <p class="small text-muted">ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì—¬ë³´ì„¸ìš”.</p>
                    
                    <div class="my-4 py-3 border rounded bg-light px-3 text-center">
                        <label for="elasticityRange" class="form-label fw-bold h5 text-primary mb-3">íƒ„ë ¥ì„± ê³„ìˆ˜: <span id="elValue" style="font-size: 1.5em;">1.0</span></label>
                        <input type="range" id="elasticityRange" min="0.1" max="1.9" step="0.1" value="1.0">
                        <div class="d-flex justify-content-between small text-muted mt-2 fw-bold">
                            <span>â—€ ë¹„íƒ„ë ¥ì <br>(ê°€íŒŒë¦„)</span>
                            <span>ë‹¨ìœ„íƒ„ë ¥ì </span>
                            <span>íƒ„ë ¥ì  â–¶<br>(ì™„ë§Œí•¨)</span>
                        </div>
                    </div>
                    
                    <div class="alert alert-light border small" id="statusMessage">
                        í˜„ì¬ ìƒíƒœ: <strong>ë‹¨ìœ„ íƒ„ë ¥ì </strong><br>
                        ê°€ê²© ë³€í™”ìœ¨ê³¼ ìˆ˜ìš”ëŸ‰ ë³€í™”ìœ¨ì´ ë™ì¼í•©ë‹ˆë‹¤.
                    </div>

                    <div class="mt-auto">
                        <hr>
                        <p class="small text-muted mb-1"><strong>Tips:</strong></p>
                        <p class="small text-muted">
                            ê·¸ë˜í”„ëŠ” ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ê· í˜•ì  (50, 50)ì„ ì§€ë‚˜ë„ë¡ ê³ ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-8">
                <div class="custom-card p-4 h-100">
                    <div class="chart-container">
                        <canvas id="elasticityChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const ctx = document.getElementById('elasticityChart').getContext('2d');
        
        function generateData(elasticityVal) {
            let slope = -1 / (elasticityVal * elasticityVal); 
            if (elasticityVal > 1) {
                slope = -1 * (2 - elasticityVal) * (2 - elasticityVal); 
            }
            if (elasticityVal == 1) slope = -1;

            const dataPoints = [];
            for (let q = 0; q <= 100; q += 5) {
                let p = slope * (q - 50) + 50;
                if (p >= 0 && p <= 100) {
                    dataPoints.push({x: q, y: p});
                }
            }
            return dataPoints;
        }

        const initialData = generateData(1.0);

        const chartConfig = {
            type: 'line',
            data: {
                datasets: [{
                    label: 'ìˆ˜ìš” ê³¡ì„  (D)',
                    data: initialData,
                    borderColor: '#3498db',
                    backgroundColor: 'rgba(52, 152, 219, 0.1)',
                    borderWidth: 3,
                    pointRadius: 0, 
                    fill: false,
                    tension: 0.1
                }, {
                    label: 'ê· í˜•ì ',
                    data: [{x: 50, y: 50}],
                    backgroundColor: '#e74c3c',
                    borderColor: '#e74c3c',
                    pointRadius: 6,
                    type: 'scatter'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        type: 'linear',
                        position: 'bottom',
                        title: { display: true, text: 'ìˆ˜ëŸ‰ (Quantity)' },
                        min: 0, max: 100
                    },
                    y: {
                        title: { display: true, text: 'ê°€ê²© (Price)' },
                        min: 0, max: 100
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `Q: ${context.parsed.x}, P: ${context.parsed.y.toFixed(1)}`;
                            }
                        }
                    },
                    legend: { position: 'top' }
                }
            }
        };

        const myChart = new Chart(ctx, chartConfig);

        const slider = document.getElementById('elasticityRange');
        const valueLabel = document.getElementById('elValue');
        const statusMsg = document.getElementById('statusMessage');

        slider.addEventListener('input', function() {
            const val = parseFloat(this.value);
            valueLabel.innerText = val.toFixed(1);

            myChart.data.datasets[0].data = generateData(val);
            myChart.update();
            updateDescription(val);
        });

        function updateDescription(val) {
            let msg = "";
            let colorClass = "alert-light";

            if (val < 0.8) {
                msg = `<strong>ë¹„íƒ„ë ¥ì  (Inelastic)</strong><br>ê°€ê²©ì— ë‘”ê°í•¨. (í•„ìˆ˜ì¬ ì„±ê²©)`;
                colorClass = "alert-warning"; 
            } else if (val > 1.2) {
                msg = `<strong>íƒ„ë ¥ì  (Elastic)</strong><br>ê°€ê²©ì— ë¯¼ê°í•¨. (ì‚¬ì¹˜ì¬ ì„±ê²©)`;
                colorClass = "alert-success"; 
            } else {
                msg = `<strong>ë‹¨ìœ„ íƒ„ë ¥ì  (Unit Elastic)</strong><br>ë³€í™”ìœ¨ì´ ë™ì¼í•¨.`;
                colorClass = "alert-primary";
            }
            
            statusMsg.innerHTML = msg;
            statusMsg.className = `alert border small ${colorClass}`;
        }
    </script>
</body>
</html>