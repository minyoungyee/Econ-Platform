<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ì‹¤ì œ ë°ì´í„° - Econ Experiment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">

    <style>
        :root {
            --main-color: #2c3e50;
        }

        .navbar-custom {
            background-color: #2c3e50 !important;
        }

        .navbar-custom .navbar-brand,
        .navbar-custom .nav-link {
            color: white !important;
        }

        /* Card & Layout */
        .custom-card {
            border: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border-radius: 12px;
            background: white;
            height: 100%;
        }

        .list-group-item {
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s;
        }

        .list-group-item.active {
            background-color: #eaf2f8;
            color: var(--main-color);
            border-color: #dee2e6;
            border-left: 5px solid var(--accent-color);
            font-weight: bold;
        }

        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }

        /* ì„¤ëª… ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .concept-box {
            background-color: #eef2f5;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .insight-box {
            background-color: #ffffff;
            border-left: 4px solid var(--accent-color);
            padding: 15px;
        }
    </style>
</head>

<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-custom mb-4">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">Econ Experiment</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="about.html">ì†Œê°œ</a></li>
                    <li class="nav-item"><a class="nav-link" href="demand_supply.html">ìˆ˜ìš”Â·ê³µê¸‰</a></li>
                    <li class="nav-item"><a class="nav-link" href="elasticity.html">íƒ„ë ¥ì„±</a></li>
                    <li class="nav-item"><a class="nav-link active fw-bold" href="real_data.html">ì‹¤ì œ ë°ì´í„°</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <div class="container pb-5">
        <h2 class="mb-4 pb-2 border-bottom" style="color: var(--main-color);">ì´ë¡  vs ì‹¤ì œ ë°ì´í„° (Data Comparison)</h2>

        <div class="row g-4">
            <div class="col-lg-3">
                <div class="list-group shadow-sm" id="menu-list">
                    <button type="button" class="list-group-item list-group-item-action active"
                        onclick="loadData('gdp', this)">
                        êµ­ë‚´ì´ìƒì‚° (GDP Gap)
                    </button>
                    <button type="button" class="list-group-item list-group-item-action"
                        onclick="loadData('phillips', this)">
                        í•„ë¦½ìŠ¤ ê³¡ì„  (ë¬¼ê°€vsì‹¤ì—…)
                    </button>
                    <button type="button" class="list-group-item list-group-item-action"
                        onclick="loadData('exchange', this)">
                        í™˜ìœ¨ (ì‹œì¥ vs PPP)
                    </button>
                </div>

                <div class="mt-4 p-3 bg-white border rounded shadow-sm">
                    <h6 class="fw-bold text-secondary">ğŸ“Š ë°ì´í„° ì†ŒìŠ¤</h6>
                    <p class="small text-muted mb-0">
                        â€¢ í•œêµ­ì€í–‰ ECOS (2010-2023)<br>
                        â€¢ í†µê³„ì²­ KOSIS<br>
                        â€¢ IMF WEO Database
                    </p>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="custom-card p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="h5 fw-bold mb-0" id="chart-title">ì‹¤ì§ˆ GDP vs ì ì¬ GDP</h4>
                        <span class="badge bg-secondary" id="chart-type-badge">Time Series</span>
                    </div>

                    <div class="chart-container mb-4">
                        <canvas id="myChart"></canvas>
                    </div>

                    <div class="concept-box">
                        <h6 class="fw-bold text-dark mb-2">ğŸ“˜ ê°œë… ì¡ê¸° (Basic Concept)</h6>
                        <p class="small text-secondary mb-0" id="chart-concept">
                        </p>
                    </div>

                    <div class="insight-box shadow-sm">
                        <h6 class="fw-bold text-primary mb-2">ğŸ’¡ ì‹¤ì œ ë°ì´í„° ë¶„ì„ (Insight)</h6>
                        <p class="mb-2 text-muted small" id="chart-desc">
                        </p>
                        <p class="mb-0 text-danger small fw-bold" id="chart-limit">
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentChart = null;

        const dataSets = {
            'gdp': {
                title: "ì‹¤ì§ˆ GDP vs ì ì¬ GDP (GDP Gap)",
                type: 'line',
                badge: "Time Series & Gap",
                concept: "<strong>ì ì¬ GDP</strong>ë€ í•œ ë‚˜ë¼ê°€ ë¬¼ê°€ ìƒìŠ¹ì„ ìœ ë°œí•˜ì§€ ì•Šê³  ë‹¬ì„±í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ìƒì‚° ëŠ¥ë ¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì‹¤ì œ GDPê°€ ì´ë³´ë‹¤ ë‚®ìœ¼ë©´(Gap < 0) ê²½ì œê°€ ì¹¨ì²´ë˜ì—ˆë‹¤ëŠ” ëœ»ì´ê³ , ë†’ìœ¼ë©´(Gap > 0) ê³¼ì—´ë˜ì—ˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.",
                labels: ['2018', '2019', '2020', '2021', '2022', '2023'],
                datasets: [
                    {
                        label: 'ì ì¬ GDP (ì´ë¡ ì  ì¥ê¸° ì¶”ì„¸)',
                        data: [100, 103, 106, 109, 112, 115],
                        borderColor: '#95a5a6',
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'ì‹¤ì§ˆ GDP (ì‹¤ì œ ë°ì´í„°)',
                        data: [101, 102, 95, 105, 110, 113],
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 3
                    }
                ],
                desc: "ê·¸ë˜í”„ë¥¼ ë³´ë©´ 2020ë…„ì— <strong>COVID-19 íŒ¬ë°ë¯¹</strong>ìœ¼ë¡œ ì¸í•´ ì‹¤ì œ GDP(íŒŒë€ì„ )ê°€ ëš ë–¨ì–´ì§€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¡ ì  ì¶”ì„¸(ì ì„ )ë¥¼ í¬ê²Œ ë°‘ë„ëŠ” 'ê²½ê¸° ì¹¨ì²´ ê°­'ì´ ë°œìƒí–ˆë‹¤ê°€ ì„œì„œíˆ íšŒë³µí•˜ëŠ” ëª¨ìŠµì…ë‹ˆë‹¤.",
                limit: "âš ï¸ í•œê³„: ì ì¬ GDPëŠ” ê´€ì¸¡ ë¶ˆê°€ëŠ¥í•œ ì¶”ì •ì¹˜ì´ë¯€ë¡œ, ê³„ì‚° ë°©ì‹(HPí•„í„° ë“±)ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            },
            'phillips': {
                title: "í•„ë¦½ìŠ¤ ê³¡ì„  (ì‹¤ì—…ë¥  vs ë¬¼ê°€ìƒìŠ¹ë¥ )",
                type: 'scatter',
                badge: "Scatter Plot",
                concept: "<strong>í•„ë¦½ìŠ¤ ê³¡ì„ </strong>ì€ ì‹¤ì—…ë¥ ê³¼ ë¬¼ê°€ìƒìŠ¹ë¥  ì‚¬ì´ì— 'ì—­ì˜ ê´€ê³„(Trade-off)'ê°€ ìˆë‹¤ëŠ” ì´ë¡ ì…ë‹ˆë‹¤. ì¦‰, ì‹¤ì—…ë¥ ì„ ë‚®ì¶”ë ¤ê³  ê²½ê¸°ë¥¼ ë¶€ì–‘í•˜ë©´ ë¬¼ê°€ê°€ ì˜¤ë¥´ê³ , ë¬¼ê°€ë¥¼ ì¡ìœ¼ë ¤ í•˜ë©´ ì‹¤ì—…ë¥ ì´ ë†’ì•„ì§„ë‹¤ëŠ” ë”œë ˆë§ˆë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.",
                datasets: [
                    {
                        label: 'ì‹¤ì œ ê²½ì œ ë°ì´í„° (2010-2023)',
                        data: [
                            { x: 3.5, y: 1.5 }, { x: 3.2, y: 2.0 }, { x: 4.0, y: 0.5 },
                            { x: 2.9, y: 4.5 }, { x: 3.8, y: 1.0 }, { x: 3.0, y: 3.8 }
                        ],
                        backgroundColor: '#e74c3c',
                        pointRadius: 6
                    },
                    {
                        label: 'ì´ë¡ ì  í•„ë¦½ìŠ¤ ê³¡ì„ ',
                        type: 'line',
                        data: [{ x: 2.5, y: 5 }, { x: 3.0, y: 3.5 }, { x: 3.5, y: 2.0 }, { x: 4.0, y: 1.0 }, { x: 4.5, y: 0.5 }],
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        pointRadius: 0,
                        showLine: true,
                        tension: 0.4
                    }
                ],
                desc: "ì´ë¡ ì ìœ¼ë¡œëŠ” ì ë“¤ì´ ìš°í•˜í–¥í•˜ëŠ” ì„ (ê²€ì€ì„ ) ìœ„ì— ëª¨ì—¬ì•¼ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œ ë°ì´í„°(ë¹¨ê°„ì )ëŠ” ë¬´ì‘ìœ„ë¡œ í©ì–´ì ¸ ë³´ì…ë‹ˆë‹¤. ì´ëŠ” ê¸°ëŒ€ ì¸í”Œë ˆì´ì…˜ ë³€í™”ë‚˜ ê³µê¸‰ ì¶©ê²©(ìœ ê°€ ìƒìŠ¹ ë“±)ì´ ë°˜ì˜ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.",
                limit: "âš ï¸ í•œê³„: í˜„ëŒ€ ê²½ì œí•™ì—ì„œëŠ” 'ì¥ê¸° í•„ë¦½ìŠ¤ ê³¡ì„ 'ì€ ìˆ˜ì§ì„ ì´ë¼ê³  ë³´ë©°, ë‹¨ê¸°ì—ë§Œ ì´ ê´€ê³„ê°€ ìœ íš¨í•˜ë‹¤ê³  ë´…ë‹ˆë‹¤."
            },
            'exchange': {
                title: "ë¹…ë§¥ ì§€ìˆ˜ì™€ í™˜ìœ¨ (PPP ì´ë¡ )",
                type: 'line',
                badge: "Comparison",
                concept: "<strong>êµ¬ë§¤ë ¥ í‰ê°€ì„¤(PPP)</strong>ì€ 'ì¼ë¬¼ì¼ê°€ì˜ ë²•ì¹™'ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´, í•œêµ­ê³¼ ë¯¸êµ­ì˜ ë¹…ë§¥ ê°€ê²©ì´ ê°™ë‹¤ë©´ í™˜ìœ¨ë„ ê·¸ì— ë§ì¶° ê²°ì •ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì´ë¡ ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í˜„ì¬ í™˜ìœ¨ì˜ ê³ í‰ê°€/ì €í‰ê°€ ì—¬ë¶€ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.",
                labels: ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”'],
                datasets: [
                    {
                        label: 'ì ì • í™˜ìœ¨ (PPP: ë¹…ë§¥ì§€ìˆ˜ ê¸°ì¤€)',
                        data: [1100, 1105, 1110, 1115, 1120, 1125],
                        borderColor: '#27ae60',
                        borderWidth: 3,
                        tension: 0.4
                    },
                    {
                        label: 'ì‹¤ì œ ì‹œì¥ í™˜ìœ¨',
                        data: [1250, 1280, 1310, 1350, 1290, 1260],
                        borderColor: '#e67e22',
                        borderDash: [5, 5],
                        tension: 0.4
                    }
                ],
                desc: "ì´ˆë¡ìƒ‰ ì‹¤ì„ ì€ ë¹…ë§¥ ê°€ê²©ìœ¼ë¡œ ì‚°ì¶œí•œ ì ì • í™˜ìœ¨ì´ê³ , ì£¼í™©ìƒ‰ ì ì„ ì€ ì‹¤ì œ ì‹œì¥ í™˜ìœ¨ì…ë‹ˆë‹¤. ì‹¤ì œ í™˜ìœ¨ì´ ë” ë†’ê²Œ í˜•ì„±ë˜ì–´ ìˆëŠ”ë°, ì´ëŠ” ì›í™”ê°€ ì´ë¡ ì  ê°€ì¹˜ë³´ë‹¤ ì €í‰ê°€(undervalued) ë˜ì–´ ìˆê±°ë‚˜, ì‹œì¥ì˜ ë³€ë™ì„±ì´ í¼ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.",
                limit: "âš ï¸ í•œê³„: ë¹…ë§¥ ê°™ì€ ìƒí’ˆì—ëŠ” ì¸ê±´ë¹„ë‚˜ ì„ëŒ€ë£Œ ê°™ì€ 'ë¹„êµì—­ì¬' ë¹„ìš©ì´ í¬í•¨ë˜ì–´ ìˆì–´ ì™„ë²½í•œ ê¸°ì¤€ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
            }
        };

        const wipeEffectPlugin = {
            id: 'wipeEffect',
            beforeDatasetsDraw(chart) {
                if (!chart.startTime) return;
                const { ctx, chartArea: { left, top, width, height } } = chart;
                const duration = 800; // 0.8ì´ˆ
                const elapsed = Date.now() - chart.startTime;
                const progress = Math.min(elapsed / duration, 1);

                ctx.save();
                ctx.beginPath();
                ctx.rect(left, top, width * progress, height);
                ctx.clip();

                if (progress < 1) {
                    requestAnimationFrame(() => chart.draw());
                } else {
                    chart.startTime = 0;
                }
            },
            afterDatasetsDraw(chart) {
                chart.ctx.restore();
            }
        };

        function renderChart(key) {
            const ctx = document.getElementById('myChart').getContext('2d');
            const data = dataSets[key];

            if (currentChart) {
                currentChart.destroy();
            }

            const config = {
                type: data.type === 'scatter' ? 'scatter' : 'line',
                data: {
                    labels: data.labels || null,
                    datasets: data.datasets
                },
                options: {
                    animation: false,
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: { mode: 'index', intersect: false },
                        legend: { position: 'top' }
                    },
                    interaction: { mode: 'nearest', axis: 'x', intersect: false },
                    scales: {
                        x: {
                            type: data.type === 'scatter' ? 'linear' : 'category',
                            title: { display: true, text: data.type === 'phillips' ? 'ì‹¤ì—…ë¥  (%)' : 'ê¸°ê°„' }
                        }
                    }
                },
                plugins: [wipeEffectPlugin]
            };

            currentChart = new Chart(ctx, config);
            currentChart.startTime = Date.now();
            currentChart.draw();

            document.getElementById('chart-title').innerText = data.title;
            document.getElementById('chart-type-badge').innerText = data.badge;
            document.getElementById('chart-concept').innerHTML = data.concept; // ì—¬ê¸°!
            document.getElementById('chart-desc').innerHTML = data.desc;
            document.getElementById('chart-limit').innerText = data.limit;
        }

        function loadData(key, element) {
            document.querySelectorAll('#menu-list button').forEach(btn => btn.classList.remove('active'));
            element.classList.add('active');
            renderChart(key);
        }

        window.onload = function () {
            renderChart('gdp');
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>